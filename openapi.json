{
  "openapi": "3.1.0",
  "info": {
    "title": "Buscar Produtos",
    "description": "ğŸ” **BUSCA PRODUTOS NO CATÃLOGO**\n\nâš ï¸ **REGRA OBRIGATÃ“RIA**: SEMPRE envie pelo menos um parÃ¢metro!\n\nğŸ“ **COMO USAR**:\n1. Cliente pergunta: \"tem jaleco?\"\n2. VocÃª EXTRAI a palavra: \"jaleco\"\n3. VocÃª ENVIA: { \"nome\": \"jaleco\" }\n\nâŒ **NUNCA FAÃ‡A**: Enviar {} vazio\nâœ… **SEMPRE FAÃ‡A**: Extrair termo e enviar no parÃ¢metro \"nome\"",
    "version": "2.0.0",
    "contact": {
      "name": "Suporte MVP"
    }
  },
  "servers": [
    {
      "url": "https://zweu.vercel.app",
      "description": "Servidor de ProduÃ§Ã£o"
    }
  ],
  "paths": {
    "/api/buscar-produto": {
      "post": {
        "operationId": "buscarProduto",
        "summary": "Buscar produtos",
        "description": "ğŸ¯ **FUNÃ‡ÃƒO**: Buscar produtos no catÃ¡logo\n\nğŸ“‹ **INSTRUÃ‡Ã•ES OBRIGATÃ“RIAS**:\n\nPASSO 1: Leia a mensagem do cliente\nPASSO 2: Identifique o PRODUTO mencionado\nPASSO 3: Extraia a PALAVRA-CHAVE\nPASSO 4: Coloque no parÃ¢metro \"nome\"\nPASSO 5: Envie a requisiÃ§Ã£o\n\nğŸ“š **EXEMPLOS DIRETOS**:\n\nCliente fala: \"tem jaleco?\"\nVocÃª EXTRAI: \"jaleco\"\nVocÃª ENVIA: { \"nome\": \"jaleco\" }\n\nCliente fala: \"mostra gorro azul\"\nVocÃª EXTRAI: \"gorro azul\"\nVocÃª ENVIA: { \"nome\": \"gorro azul\" }\n\nCliente fala: \"cÃ³digo 300-MC-049\"\nVocÃª EXTRAI: \"300-MC-049\"\nVocÃª ENVIA: { \"codigo\": \"300-MC-049\" }\n\nCliente fala: \"quero 5 aventais\"\nVocÃª EXTRAI: \"avental\"\nVocÃª ENVIA: { \"nome\": \"avental\", \"limit\": 5 }\n\nâš ï¸ **CRÃTICO**: NUNCA envie {} vazio!",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nome": {
                    "type": "string",
                    "description": "ğŸ“ PALAVRA-CHAVE do produto que o cliente mencionou\n\nExemplos:\n- Cliente: \"tem jaleco?\" â†’ nome: \"jaleco\"\n- Cliente: \"mostra gorro\" â†’ nome: \"gorro\"\n- Cliente: \"preciso avental\" â†’ nome: \"avental\"",
                    "example": "jaleco"
                  },
                  "codigo": {
                    "type": "string",
                    "description": "ğŸ”¢ CÃ“DIGO EXATO quando o cliente mencionar cÃ³digo\n\nExemplo:\n- Cliente: \"cÃ³digo 300-MC-049\" â†’ codigo: \"300-MC-049\"",
                    "example": "300-MC-049"
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Quantidade de resultados (padrÃ£o 10)",
                    "default": 10,
                    "minimum": 1,
                    "maximum": 50,
                    "example": 10
                  }
                },
                "required": ["nome"]
              },
              "examples": {
                "exemplo_basico": {
                  "summary": "Cliente pergunta 'tem jaleco?'",
                  "description": "VocÃª extrai 'jaleco' e envia",
                  "value": {
                    "nome": "jaleco"
                  }
                },
                "exemplo_com_cor": {
                  "summary": "Cliente pergunta 'mostra gorro azul'",
                  "description": "VocÃª extrai 'gorro azul' e envia",
                  "value": {
                    "nome": "gorro azul"
                  }
                },
                "exemplo_com_quantidade": {
                  "summary": "Cliente pede 'quero 5 aventais'",
                  "description": "VocÃª extrai 'avental' e limit 5",
                  "value": {
                    "nome": "avental",
                    "limit": 5
                  }
                },
                "exemplo_codigo": {
                  "summary": "Cliente fala 'cÃ³digo 300-MC-049'",
                  "description": "VocÃª usa o parÃ¢metro codigo",
                  "value": {
                    "codigo": "300-MC-049"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Produtos encontrados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sucesso": {
                      "type": "boolean",
                      "example": true
                    },
                    "total_produtos": {
                      "type": "integer",
                      "description": "Total de produtos encontrados no catÃ¡logo",
                      "example": 279
                    },
                    "produtos_retornados": {
                      "type": "integer",
                      "description": "Quantidade de produtos nesta resposta (mÃ¡x 10)",
                      "example": 10
                    },
                    "mensagem_para_cliente": {
                      "type": "string",
                      "description": "ğŸ¯ USE ESTA MENSAGEM COMO BASE para responder o cliente! Ela jÃ¡ vem formatada e pronta para usar.",
                      "example": "Encontrei 279 produto(s). Aqui estÃ£o os primeiros 10:"
                    },
                    "produtos": {
                      "type": "array",
                      "description": "Lista dos produtos encontrados",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 12345
                          },
                          "codigo": {
                            "type": "string",
                            "example": "300-MC-049"
                          },
                          "nome": {
                            "type": "string",
                            "example": "Jaleco Branco Manga Longa"
                          },
                          "ativo": {
                            "type": "boolean",
                            "example": true
                          },
                          "preco": {
                            "type": "number",
                            "format": "float",
                            "example": 89.90
                          },
                          "preco_promocional": {
                            "type": "number",
                            "format": "float",
                            "nullable": true,
                            "example": 69.90
                          },
                          "estoque_disponivel": {
                            "type": "integer",
                            "example": 50
                          },
                          "imagens": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "url": {
                                  "type": "string",
                                  "format": "uri",
                                  "example": "https://example.com/imagem.jpg"
                                },
                                "principal": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            }
                          },
                          "derivacoes": {
                            "type": "array",
                            "description": "VariaÃ§Ãµes do produto (tamanhos, cores, etc)",
                            "items": {
                              "type": "object",
                              "properties": {
                                "codigo": {
                                  "type": "string",
                                  "example": "300-MC-049-P"
                                },
                                "nome": {
                                  "type": "string",
                                  "example": "Tamanho P"
                                },
                                "estoque": {
                                  "type": "integer",
                                  "example": 10
                                },
                                "preco": {
                                  "type": "number",
                                  "example": 89.90
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "busca_realizada": {
                      "type": "object",
                      "properties": {
                        "termo": {
                          "type": "string",
                          "example": "jaleco"
                        },
                        "limit": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "ParÃ¢metros invÃ¡lidos ou ausentes",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "ParÃ¢metro obrigatÃ³rio nÃ£o fornecido"
                    },
                    "mensagem": {
                      "type": "string",
                      "example": "VocÃª deve fornecer pelo menos um dos parÃ¢metros: nome, codigo, produto ou mensagem"
                    },
                    "parametros_recebidos": {
                      "type": "object"
                    },
                    "exemplo": {
                      "type": "object",
                      "example": {
                        "nome": "jaleco",
                        "limit": 10
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erro interno do servidor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Erro interno do servidor"
                    },
                    "mensagem": {
                      "type": "string",
                      "example": "Detalhes do erro"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {}
  },
  "x-stevo-instructions": "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ¤– STEVO - INSTRUÃ‡Ã•ES COMPLETAS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸ“‹ QUANDO USAR:\nCliente pergunta sobre produtos, estoque, preÃ§o ou disponibilidade\n\nğŸ“¤ COMO ENVIAR:\n1. Extraia a palavra-chave da mensagem\n2. Envie: { \"nome\": \"palavra_extraida\" }\n\nğŸ“¥ COMO INTERPRETAR A RESPOSTA:\n\nA API retorna um JSON assim:\n{\n  \"sucesso\": true,\n  \"total_produtos\": 279,\n  \"produtos_retornados\": 10,\n  \"mensagem_para_cliente\": \"Encontrei 279 produto(s)...\",\n  \"produtos\": [ array de produtos ]\n}\n\nâš ï¸ INSTRUÃ‡Ã•ES CRÃTICAS PARA RESPONDER O CLIENTE:\n\n1ï¸âƒ£ Use o campo \"mensagem_para_cliente\" como base\n2ï¸âƒ£ Mostre os produtos do array \"produtos\"\n3ï¸âƒ£ Para cada produto, mostre:\n   - nome\n   - preco (ou preco_promocional se disponÃ­vel)\n   - estoque_disponivel\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“š EXEMPLO DE RESPOSTA AO CLIENTE:\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCliente: \"tem jaleco?\"\nVocÃª ENVIA: { \"nome\": \"jaleco\" }\n\nAPI RETORNA:\n{\n  \"total_produtos\": 279,\n  \"mensagem_para_cliente\": \"Encontrei 279 produto(s)...\",\n  \"produtos\": [\n    {\n      \"nome\": \"Jaleco Branco Manga Longa\",\n      \"preco\": 89.90,\n      \"estoque_disponivel\": 50\n    }\n  ]\n}\n\nVOCÃŠ RESPONDE AO CLIENTE:\n\"Sim! Encontrei 279 jalecos disponÃ­veis. Aqui estÃ£o alguns:\n\n1. Jaleco Branco Manga Longa - R$ 89,90 (50 em estoque)\n2. [prÃ³ximo produto]\n...\"\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâŒ SE total_produtos = 0:\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nVOCÃŠ RESPONDE: \"NÃ£o encontrei esse produto no momento.\"\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… SEMPRE:\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n- Use os dados REAIS da resposta\n- Mostre preÃ§os e estoque\n- Seja claro e objetivo\n- OfereÃ§a ajuda adicional\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
}
